<?php

namespace Database\Seeders\Tenants;

use App\Models\Faq;
use Illuminate\Database\Seeder;

class FaqsSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // إنشاء أسئلة شائعة للعضويات
        $membershipFaqs = [
            [
                'question' => 'ما هي مميزات العضوية المدفوعة؟',
                'answer' => '<p>العضوية المدفوعة توفر لك مجموعة من المميزات الحصرية مثل:</p><ul><li>الوصول إلى محتوى متميز وحصري</li><li>جداول غذائية مخصصة حسب احتياجاتك</li><li>دعم فني أولوي على مدار الساعة</li><li>تحديثات منتظمة للمحتوى</li><li>إمكانية تحميل المحتوى للاستخدام دون اتصال بالإنترنت</li></ul><p>يمكنك الاطلاع على تفاصيل كل خطة عضوية لمعرفة المميزات المحددة التي تقدمها.</p>',
                'category' => 'العضويات',
                'sort_order' => 1
            ],
            [
                'question' => 'هل يمكنني تغيير خطة العضوية الخاصة بي؟',
                'answer' => '<p>نعم، يمكنك ترقية أو تغيير خطة العضوية الخاصة بك في أي وقت. عند الترقية، سيتم احتساب المبلغ المتبقي من اشتراكك الحالي وخصمه من سعر الخطة الجديدة.</p><p>للتغيير، توجه إلى "إعدادات الحساب" ثم "إدارة الاشتراك" واختر "تغيير الخطة".</p>',
                'category' => 'العضويات',
                'sort_order' => 2
            ],
            [
                'question' => 'كيف يمكنني إلغاء اشتراكي؟',
                'answer' => '<p>يمكنك إلغاء اشتراكك في أي وقت من خلال الذهاب إلى صفحة "إعدادات الحساب" في لوحة التحكم الخاصة بك، ثم النقر على "إدارة الاشتراك" واختيار "إلغاء الاشتراك".</p><p>سيظل بإمكانك الاستفادة من مميزات العضوية حتى نهاية فترة الاشتراك الحالية.</p>',
                'category' => 'العضويات',
                'sort_order' => 3
            ],
        ];

        // إنشاء أسئلة شائعة للدفع
        $paymentFaqs = [
            [
                'question' => 'ما هي طرق الدفع المتاحة؟',
                'answer' => '<p>نحن نقبل مجموعة متنوعة من طرق الدفع بما في ذلك:</p><ul><li>بطاقات الائتمان (فيزا، ماستركارد)</li><li>مدى</li><li>آبل باي</li><li>سداد</li></ul><p>جميع المعاملات مؤمنة بتشفير SSL لضمان حماية بياناتك المالية.</p>',
                'category' => 'الدفع',
                'sort_order' => 1
            ],
            [
                'question' => 'هل يتم تجديد اشتراكي تلقائياً؟',
                'answer' => '<p>نعم، يتم تجديد الاشتراكات تلقائياً في نهاية كل فترة اشتراك ما لم تقم بإلغاء التجديد التلقائي.</p><p>سيتم إرسال إشعار لك قبل التجديد بثلاثة أيام على الأقل، ويمكنك إلغاء التجديد التلقائي في أي وقت من خلال إعدادات حسابك.</p>',
                'category' => 'الدفع',
                'sort_order' => 2
            ],
        ];

        // إنشاء أسئلة شائعة للحساب
        $accountFaqs = [
            [
                'question' => 'كيف يمكنني تغيير كلمة المرور الخاصة بي؟',
                'answer' => '<p>لتغيير كلمة المرور الخاصة بك، اتبع الخطوات التالية:</p><ol><li>قم بتسجيل الدخول إلى حسابك</li><li>انتقل إلى صفحة "الملف الشخصي"</li><li>اختر "تحديث كلمة المرور"</li><li>أدخل كلمة المرور الحالية وكلمة المرور الجديدة</li><li>انقر على "حفظ التغييرات"</li></ol>',
                'category' => 'الحساب',
                'sort_order' => 1
            ],
            [
                'question' => 'هل يمكنني تغيير عنوان البريد الإلكتروني المرتبط بحسابي؟',
                'answer' => '<p>نعم، يمكنك تغيير عنوان البريد الإلكتروني المرتبط بحسابك من خلال صفحة "الملف الشخصي".</p><p>بعد تغيير البريد الإلكتروني، سيتم إرسال رسالة تأكيد إلى العنوان الجديد، ويجب عليك النقر على الرابط الموجود في الرسالة لتأكيد العنوان الجديد.</p>',
                'category' => 'الحساب',
                'sort_order' => 2
            ],
        ];

        // إنشاء أسئلة شائعة للدعم الفني
        $supportFaqs = [
            [
                'question' => 'كيف يمكنني الحصول على المساعدة؟',
                'answer' => '<p>يمكنك الحصول على المساعدة من خلال عدة طرق:</p><ul><li>الاتصال بفريق الدعم عبر البريد الإلكتروني: support@example.com</li><li>استخدام نظام التذاكر في لوحة التحكم</li><li>التواصل معنا عبر وسائل التواصل الاجتماعي</li></ul><p>نحن نسعى للرد على جميع الاستفسارات خلال 24 ساعة عمل.</p>',
                'category' => 'الدعم الفني',
                'sort_order' => 1
            ],
            [
                'question' => 'ما هي ساعات عمل الدعم الفني؟',
                'answer' => '<p>فريق الدعم الفني متاح من الأحد إلى الخميس من الساعة 9 صباحاً حتى 5 مساءً بتوقيت المملكة العربية السعودية.</p><p>في حالات الطوارئ، يمكنك التواصل معنا خارج ساعات العمل عبر البريد الإلكتروني وسنبذل قصارى جهدنا للرد في أقرب وقت ممكن.</p>',
                'category' => 'الدعم الفني',
                'sort_order' => 2
            ],
        ];

        // إنشاء أسئلة شائعة عامة
        $generalFaqs = [
            [
                'question' => 'هل يمكنني الوصول إلى المحتوى على أجهزة متعددة؟',
                'answer' => '<p>نعم، يمكنك الوصول إلى حسابك والمحتوى الخاص بك على أي جهاز متصل بالإنترنت.</p><p>نحن ندعم جميع المتصفحات الحديثة وأجهزة الكمبيوتر والهواتف الذكية والأجهزة اللوحية.</p>',
                'category' => 'عام',
                'sort_order' => 1
            ],
            [
                'question' => 'هل المحتوى متاح باللغة الإنجليزية؟',
                'answer' => '<p>حالياً، المحتوى متاح باللغة العربية فقط. نحن نعمل على توفير المحتوى باللغة الإنجليزية في المستقبل القريب.</p><p>سنعلن عن توفر المحتوى باللغة الإنجليزية عبر موقعنا ووسائل التواصل الاجتماعي.</p>',
                'category' => 'عام',
                'sort_order' => 2
            ],
        ];

        // جمع جميع الأسئلة الشائعة
        $allFaqs = array_merge($membershipFaqs, $paymentFaqs, $accountFaqs, $supportFaqs, $generalFaqs);

        // إنشاء الأسئلة الشائعة في قاعدة البيانات
        foreach ($allFaqs as $faqData) {
            $faqData['user_id'] = 1; // افتراض أن المستخدم الأول هو المدير
            Faq::create($faqData);
        }

        // مسح الكاش
        Faq::clearCache();
    }
}